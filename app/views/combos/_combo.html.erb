<% situations = combo.situation.gsub(/[\[\]"]/,'').split(', ').map { |situation_id| Situation.find(situation_id.to_i).name } %>
<% character  = Character.find(combo.character_id).character_name %>
<li class="post" id="post-combo-<%= combo.id %>" data-situation="<%= situations.join(',').strip %>">
        <div class="post-head">
            <span class="situation">
                <%= situations.join(', ') %>
            </span>
            <span class="hit_count"><span class="hit_count-int"><%= combo.hit_count %></span> Hit</span>
            <span class="damage"><span class="damage-int"><%= combo.damage %></span> Damage</span>
        </div>
    <%= link_to combo_path(combo), data: { turbo_frame: "combo" } do %>
        <div class="post-main">
            <span class="title"><%= combo.title %></span>
            <span class="comando"><%= combo.comando %></span>
        </div>
        <div class="post-bottom">
            <span class="character"><%= character %></span>
            <% if combo.liked_users.include?(current_user) %>
                <%= button_to 'いいねを取り消す', combo_like_path(combo), method: :delete %>
            <% else %>
                <%= button_to 'いいねする', combo_likes_path(combo), method: :post %>
            <% end %>
            <%= link_to combo.user.name, combo.user, class: "user-link" %>
        </div>
    <% end %>
</li>
